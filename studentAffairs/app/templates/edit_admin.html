{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="{% static 'styleSheet.css' %}">
    <meta charset="UTF-8">
    <title>Edit Profile Admin</title>
</head>

<header>
    <nav>
        <ul class="left">

            <li><img src="../../static/imgs/logo.png" alt="" width="20px" height="20px" title="logo"></li>
            <li><a href="../">Home</a></li>
            <li><a href="../profile">Profile</a></li>
            <li><a href="../student_screen">Student Screen</a></li>
        </ul>
        <ul class="right">
            <li><a href="../../signin">Sign out</a></li>
            <li><a href="../help">Help?</a></li>
        </ul>
    </nav>
          <script type="text/javascript">
      function editAdmin() {
          let adminNameEl = document.getElementById("name");
          let adminEmailEl = document.getElementById("E-mail");
          let adminPhoneEl = document.getElementById("PhoneNumber");

        const payload = {
          name: adminNameEl,
          email: adminEmailEl,
          phone: adminPhoneEl,
        };

        // Send the AJAX request
        const xhr = new XMLHttpRequest();
        xhr.open("POST", "/edit_admin/");
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onload = function () {
          if (xhr.status === 200) {
            const response = JSON.parse(xhr.responseText);
            // Handle the success response
            console.log(response.message);
          } else {
            // Handle the error response
            console.error("Error:", xhr.status);
          }
        };

        xhr.send(JSON.stringify(payload));
      }
  </script>
</header>

<body>
    <form id="editProfile-admin" action="save_admin" method="post">
        {% csrf_token %}
        <h3>Edit the profile information</h3>

        <label for="name"> Name</label><br>
        <input type="text" id="name" value="{{admin.name}}" name="name">

        <br>
        <label for="E-mail"> Email</label><br>
        <input type="email" id="E-mail" value={{admin.email}} name="email">
        <br>

        <label for="Phone Number"> Phone Number</label><br>
        <input type="tel" id="PhoneNumber" pattern="01[0-2]{1}[0-9]{4}[0-9]{4}" value={{admin.phone}} name="phone">
        <br>

        
        <label for="gender">Gender</label>
            <span id="editGender">
                {%if admin.gender == 'male'%}
                <input type="radio" name="Gender" value='Male' checked >
                <label>Male</label>
                {% else %}
                <input type="radio" name="Gender" value='male' disabled >
                <label>Male</label>
                {% endif %}

                {%if admin.gender == 'female'%}
                <input type="radio" name="Gender" value="Female" checked >
                <label>Female</label>
                {% else %}
                <input type="radio" name="Gender" value="Female" disabled>
                <label>Female</label>
                {% endif %}
            </span>

        <input id="saveInfo" type="submit" class="submit" value="Save" >


    </form>
</body>

</html>